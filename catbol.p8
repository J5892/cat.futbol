pico-8 cartridge // http://www.pico-8.com
version 16
__lua__
cat={}
cat.loc = {0,120}

ball={}
ball.loc={40,15}
ball.rad=4
ball.col=7

net={}
net.loc={100,107}
net.wid=16
net.hgt=24

vely=0
velx=0

function drawball()
  circ(ball.loc[1],ball.loc[2],ball.rad,ball.col)
end

function initball()
  ball.loc={40,15}
  ball.rad=4
  ball.col=7
  vely=0
  velx=0
end

function drawcat()
  spr(1,cat.loc[1],cat.loc[2])
end

function drawnet()
  spr(2,100,107,2,3)
end

function _init()
  cls()
  drawball()
  drawcat()
  drawnet()
end

function _update()
  vely+=0.2
  ball.loc[2]+=vely
  ball.loc[1]+=velx

  if btn(0) then
    cat.loc[1]-=1
  end
  if btn(1) then
    cat.loc[1]+=1
  end
  if btn(2) then
    cat.loc[2]-=1
  end
  if btn(3) then
    cat.loc[2]+=1
  end

  if btn(4) then
    initball()
  end

  if ball.loc[2] > cat.loc[2] + 2 then
    if ball.loc[2] < cat.loc[2] + 8 then


      if ball.loc[1] > cat.loc[1] then
        if ball.loc[1] < cat.loc[1] + 8 then
          vely = -vely
          catmid = cat.loc[1] + 4.5
          print(ball.loc[1] - catmid)
          velx+=ball.loc[1] - catmid
        end
      end
    end
  end

  if ball.loc[2] > 127 then
    vely = -vely
  end

  if ball.loc[1] > 127 then
    velx = -velx
  end

  if ball.loc[1] < 1 then
    velx = -velx
  end

  if ball.loc[1] > net.loc[1] then
    if ball.loc[1] < net.loc[1] + net.wid then
      if ball.loc[2] > net.loc[2] then
        if ball.loc[2] < net.loc[2] + net.hgt then
          initball()
        end
      end
    end
  end
end

function _draw()
  cls()
  drawball()
  drawcat()
  drawnet()
end

__gfx__
00000000000000007770707070000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000007707070707000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000009097770707070700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000009997707070707070000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000999997770707070707000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700900999007707070707070700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000099909007770707070707000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000900907707070707070700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000007770707070707000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000007707070707070700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000007770707070707000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000007707070707070700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000007770707070707000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000007707070707070700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000007770707070707000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000007707070707070700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000007770707070707000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000007707070707070700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000007770707070707000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000007707070707070700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000007770707070707000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000007707070707070700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
